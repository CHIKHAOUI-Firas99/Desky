<div style="width: 100%;">
  <h1 class="h4 text-center" style="margin-top: 2%;"> Desk Reservations</h1>
  <div class="container" style="margin-top: 2%;">
    <div class="row">
      <div class="col-3">
        <div style="height: 750px; overflow-y: auto;">
          <ul class="list-group scrollbar scrollbar-primary" style="width: 100%;">
            <h6 class="h5 text-center list-group-item  text-dark"
              style="width: 90%;border-radius: 4px;background-color: #f0f0f0;height: 60px;padding-top: 5%;">
              List of workspaces</h6>
            <li class=" divWorkspace" *ngFor="let item of listWorkspaces; let i = index"
              (click)="loadCanvas(item.name, i)" [ngClass]="{ 'isactive': isActiveElement(item.name) }">

              <div>
                <b>{{item.name}}</b>

                <div>
                  <img *ngFor="let img of item.userProfileImages.slice(0,5); let i = index"
                    src="data:image/jpeg;base64,{{img}}" alt="foulen fouleni"
                    [style]="{'--num-images': 5, '--index': i}" class="user">
                  <div *ngIf="item.userProfileImages.length > 1 " style=" float: right; text-align: center;"> {{
                    item.userProfileImages.length - 5 }}</div>
                </div>
                <div style="  position: absolute;bottom: 20px; width: 210px;">
                  <span style="float: left;"> <b>Available {{item.totalPlaces-item.nbBooked}}</b></span>
                  <span style="float: right;">Total {{item.totalPlaces}}</span>
                </div>
                <div style="  position: absolute;bottom: 10px; width: 210px;">
                  <div class="progress" role="progressbar" style="height: 5px;" aria-label="Success example"
                    aria-valuenow={{item.nbAvailable}} aria-valuemin="0" aria-valuemax="100">
                    <div [ngClass]="getValueClass(item.nbAvailable)" [ngStyle]="{'width' : item.nbAvailable+'%'}"></div>
                  </div>
                </div>
              </div>
            </li>

          </ul>
        </div>
      </div>

      <div class="col-9">
        <div class="text-center">
          <ul class="list-group list-group-horizontal-xl" style="margin-left: 4%;margin-right: 2%; ">
            <li class="list-group-item  text-light "
              style="text-align: center;padding-top: 1.5%;background-color: #003537ad;">
              <b> Peek a day</b>
            </li>
            <li class="list-group-item" *ngFor="let day of selectedWeek.slice(0, 5); let i = index"
              [class.disabled]="weekdays.indexOf(day.substring(0, 3)) < weekdays.indexOf(today.substring(0, 3)) && isFirstWeek"
              [ngClass]="{ 'activ': i === activeIndex }" [ngStyle]="{ 'background-color': 1 === 1 ? 'E0E2E8' : '' }">
              <button mat-button color="primary" data-mdb-ripple-color="dark" class="custom-button"
                (click)="onButtonClick(i)" style="text-align: center;padding-top: 1.5%;">
                {{ day === today.substring(0, 3) ? day : day }}
                <span *ngIf="day !== today.substring(0, 3)">{{ this.showedList[i] }}<sup>th</sup></span>
              </button>

            </li>







            <li (click)="showNextWeekDays()" class="list-group-item bg-light "
              style=" padding-top: 1.5%; cursor: pointer;" *ngIf="isFirstWeek">
              <i class="fa-solid fa-angles-right"></i>
            </li>

            <li (click)="previousWeekDays()" class="list-group-item bg-light "
              style="padding-top: 1.5%; cursor: pointer;" *ngIf="!isFirstWeek">
              <i class="fa-solid fa-angles-left"></i>
            </li>
          </ul>
        </div>
        <div [ngStyle]="{'width':'93.1%', 'overflow-x': 'auto', 'height': '70%' }"
          style="border: 2px solid #cccccc;margin-top: 5px;">
          <app-booking-map #canvasBook></app-booking-map>
        </div>
      </div>
    </div>


  </div>



</div>